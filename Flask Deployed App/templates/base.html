<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="PlantGuard AI â€” Detect plant diseases instantly with the power of artificial intelligence. Upload a leaf photo and get diagnosis in seconds.">

  <!-- Fonts are loaded via CSS @import -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <title>{% block pagetitle %}PlantGuard AI{% endblock %}</title>
  {% block head %}{% endblock %}
</head>

<body>

  <!-- â”€â”€ Navbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <nav class="navbar" id="main-nav">
    <div
      style="display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1280px;margin:0 auto;">
      <a href="/" style="text-decoration:none;">
        <span class="navbar-brand-text"><span class="icon">ðŸŒ¿</span> PlantGuard AI</span>
      </a>
      <div style="display:flex;align-items:center;gap:0.25rem;">
        <ul class="nav-links" id="nav-links">
          <li><a href="/" id="nav-home">Home</a></li>
          <li><a href="/index" id="nav-engine">AI Engine</a></li>
          <li><a href="/market" id="nav-market">Supplements</a></li>
          <li><a href="/contact" id="nav-contact">Contact</a></li>
        </ul>
        <!-- Auth buttons (toggled by JS based on localStorage token) -->
        <div class="nav-auth" id="auth-guest">
          <a href="/login-page" class="btn-login">Log In</a>
          <a href="/signup-page" class="btn-signup">Sign Up</a>
        </div>
        <div class="nav-auth" id="auth-user" style="display:none;">
          <span class="user-greeting">Hi, <span id="user-name-display">User</span></span>
          <button class="btn-logout" id="logout-btn">Logout</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- â”€â”€ Main Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main>
    {% block body %}{% endblock %}
  </main>

  <!-- â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <footer class="site-footer">
    <ul class="footer-links">
      <li><a href="/">Home</a></li>
      <li><a href="/index">AI Engine</a></li>
      <li><a href="/market">Supplements</a></li>
      <li><a href="/contact">Contact</a></li>
    </ul>
    <p class="footer-credit">Built with ðŸŒ± by PlantGuard AI &nbsp;Â·&nbsp; Powered by PyTorch CNN</p>
  </footer>

  <!-- â”€â”€ Active Nav Highlighter + Auth State â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <script>
    (function () {
      // Highlight active nav link
      const path = window.location.pathname;
      const links = document.querySelectorAll('#nav-links a');
      links.forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });

      // Auth state from localStorage
      const token = localStorage.getItem('plantguard_token');
      const user = JSON.parse(localStorage.getItem('plantguard_user') || 'null');

      if (token && user) {
        document.getElementById('auth-guest').style.display = 'none';
        document.getElementById('auth-user').style.display = 'flex';
        document.getElementById('user-name-display').textContent = user.name || user.email;
      }

      // Logout
      document.getElementById('logout-btn').addEventListener('click', function () {
        localStorage.removeItem('plantguard_token');
        localStorage.removeItem('plantguard_user');
        window.location.href = '/';
      });
    })();
  </script>

  {% block scripts %}{% endblock %}
</body>

</html>